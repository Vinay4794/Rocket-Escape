<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
  <title>Rocket Escape</title>
  <link rel="stylesheet" href="/static/style.css"/>
</head>
<body>

  <!-- background -->
  <div class="bg">
    <div class="aurora a1"></div>
    <div class="aurora a2"></div>
    <div class="aurora a3"></div>
    <div class="noise"></div>
    <div class="grid"></div>
  </div>

  <div class="app">

    <!-- TOPBAR -->
    <header class="topbar">
      <div class="brand">
        <div class="logo">üöÄ</div>
        <div class="brandText">
          <h1>Rocket Escape</h1>
          <p>Dodge ‚Ä¢ Collect ‚Ä¢ Survive Boss Mode</p>
        </div>
      </div>

      <div class="topRight">
        <div class="modeBox">
          <div class="modeLabel">Mode</div>
          <select id="modeSelect" class="select">
            <option value="easy">Easy</option>
            <option value="medium" selected>Medium</option>
            <option value="hard">Hard</option>
          </select>
        </div>

        <!-- ‚úÖ Controls ribbon -->
        <div class="ribbonControls">
          <button id="soundBtn" class="ribbonBtn" title="Sound">üîä</button>
          <button id="startBtn" class="ribbonBtn primary" title="Start">Start</button>
          <button id="pauseBtn" class="ribbonBtn" title="Pause">Pause</button>
          <button id="restartBtn" class="ribbonBtn" title="Restart">‚Üª</button>

          <!-- ‚úÖ NEW Fullscreen Button -->
          <button id="fullscreenBtn" class="ribbonBtn" title="Fullscreen">‚õ∂</button>
        </div>

        <button id="drawerBtn" class="iconBtn" title="Menu">‚ò∞</button>
      </div>
    </header>

    <!-- MAIN LAYOUT -->
    <main class="layout">

      <!-- LEFT PANEL -->
      <aside class="panel left">
        <div class="panelTitle">Dashboard</div>

        <div class="statGrid">
          <div class="statCard">
            <div class="k">Score</div>
            <div class="v" id="score">0</div>
          </div>
          <div class="statCard">
            <div class="k">High</div>
            <div class="v" id="highScoreTop">0</div>
          </div>
          <div class="statCard">
            <div class="k">Best</div>
            <div class="v" id="best">0</div>
          </div>
          <div class="statCard">
            <div class="k">Status</div>
            <div class="v small" id="status">Ready</div>
          </div>
        </div>

        <div class="block">
          <div class="blockHead">
            <span>Difficulty</span>
            <span class="tag" id="diffLabel">Medium</span>
          </div>
          <div class="bar">
            <div class="barFill" id="difficultyProgress"></div>
          </div>
          <div class="muted">Increases with score</div>

          <div style="display:none">
            <div id="diffFill"></div>
          </div>
        </div>

        <div class="block">
          <div class="blockHead">
            <span>Quick Keys</span>
            <span class="tag hot">Keyboard</span>
          </div>
          <div class="keyRow">
            <span class="key">Enter</span><span class="keyDesc">Start</span>
          </div>
          <div class="keyRow">
            <span class="key">Esc</span><span class="keyDesc">Pause</span>
          </div>
          <div class="keyRow">
            <span class="key">R</span><span class="keyDesc">Restart</span>
          </div>
        </div>
      </aside>

      <!-- CENTER GAME -->
      <section class="gameArea">
        <div class="stageWrap">
          <div class="stageGlow"></div>

          <!-- ‚úÖ SINGLE correct game container -->
          <div class="stage" id="stageContainer">

            <!-- ‚úÖ ONLY ONE CANVAS -->
            <canvas id="game"></canvas>

            <!-- ‚úÖ Mobile Controls INSIDE game window -->
        <button id="btnUp" class="mobileBtn">
  <span class="btnIcon">‚ñ≤</span>
</button>

<button id="btnDown" class="mobileBtn">
  <span class="btnIcon">‚ñº</span>
</button>


            <!-- ‚úÖ In-Game Ribbon Box -->
            <div id="gameRibbonBox" class="gameRibbonBox">
              <div class="grTitle">Quick Controls</div>
              <div class="grBtns">
                <button id="grStart" class="grBtn primary">Start</button>
                <button id="grRestart" class="grBtn">Restart</button>
                <button id="grSound" class="grBtn">üîä</button>
              </div>
            </div>

            <!-- Overlay -->
            <div id="overlay" class="overlay">
              <div class="modal">
                <h2 id="overlayTitle">Rocket Escape</h2>
                <p id="overlayText">Press Start / Enter to play.</p>
                <p class="miniNote">Move: ‚Üë ‚Üì / W S ‚Ä¢ Pause: Esc ‚Ä¢ Restart: R</p>
                <p class="miniNote mobileNote">Mobile: Swipe OR use ‚ñ≤ ‚ñº buttons</p>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- RIGHT PANEL -->
      <aside class="panel right">
        <div class="panelTitle">Assist</div>

        <div class="tipCard">
          <div class="tipTop">
            <span class="dot"></span>
            <span class="tipTitle">Live Tip</span>
          </div>
          <div class="tipText" id="tipText">Tip: Use small movements, not long holds.</div>
        </div>

        <div class="block">
          <div class="blockHead">
            <span>Powerups</span>
            <span class="tag">Loot</span>
          </div>

          <div class="chipGrid">
            <div class="chip">üõ° Shield</div>
            <div class="chip">üê¢ Slow</div>
            <div class="chip">‚ö° Nitro</div>
            <div class="chip">üß≤ Magnet</div>
          </div>

          <div class="muted">Spawn in safe gaps</div>
        </div>

        <div class="block">
          <div class="blockHead">
            <span>Achievements</span>
            <span class="tag">Badges</span>
          </div>
          <div class="badgeRow">
            <span class="badge" id="badge1">Rookie</span>
            <span class="badge" id="badge2">Pilot</span>
            <span class="badge" id="badge3">Legend</span>
          </div>
          <div class="muted">Unlock by beating highscores</div>
        </div>

        <div class="bossCard">
          <div class="bossTitle">‚ö† Boss Mode</div>
          <div class="bossText">Gap shrinks temporarily. Keep steady control.</div>
        </div>
      </aside>

    </main>

  </div>

  <!-- Drawer -->
  <aside id="drawer" class="drawer hidden">
    <div class="drawerHead">
      <div>
        <div class="drawerTitle">Game Menu</div>
        <div class="drawerSub">Quick stats & controls</div>
      </div>
      <button id="drawerClose" class="iconBtn">‚úï</button>
    </div>

    <div class="drawerCard">
      <div class="drawerCardTitle">üìä Stats</div>
      <div class="drawerGrid">
        <div class="dstat">
          <div class="l">Last Score</div>
          <div class="x" id="lastScore">0</div>
        </div>
        <div class="dstat">
          <div class="l">Best Streak</div>
          <div class="x" id="bestStreak">0</div>
        </div>
        <div class="dstat">
          <div class="l">Sound</div>
          <div class="x" id="soundState">ON</div>
        </div>
        <div class="dstat">
          <div class="l">Difficulty</div>
          <div class="x"><span>Dynamic</span></div>
        </div>
      </div>
    </div>

    <div class="drawerCard">
      <div class="drawerCardTitle">üéÆ Controls</div>
      <ul class="drawerList">
        <li><b>Move:</b> ‚Üë ‚Üì or W S</li>
        <li><b>Start:</b> Enter / Space</li>
        <li><b>Pause:</b> Esc</li>
        <li><b>Restart:</b> R</li>
      </ul>
      <ul class="drawerList">
        <li><b>Mobile:</b> Swipe / ‚ñ≤ ‚ñº buttons</li>
      </ul>
    </div>
  </aside>

  <script src="/static/game.js"></script>
</body>
</html>
